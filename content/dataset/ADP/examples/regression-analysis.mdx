# ADP 예제문제 3 - 회귀분석

## 문제 설명

다중선형회귀분석을 수행하고 모델의 유의성을 검정하시오.

## 데이터 준비

```python
import pandas as pd
import numpy as np
import matplotlib.pyplot as plt
import seaborn as sns
from sklearn.linear_model import LinearRegression
from sklearn.metrics import r2_score
import scipy.stats as stats
from statsmodels.stats.diagnostic import het_breuschpagan
import statsmodels.api as sm

# 샘플 데이터 생성
np.random.seed(42)
n = 100

# 독립변수들
education = np.random.normal(16, 2, n)  # 교육년수
experience = np.random.normal(10, 5, n)  # 경력년수
age = np.random.normal(35, 8, n)  # 나이

# 종속변수 (연봉)
salary = (
    20000 +
    2000 * education +
    1500 * experience +
    500 * age +
    np.random.normal(0, 5000, n)
)

df = pd.DataFrame({
    'education': education,
    'experience': experience,
    'age': age,
    'salary': salary
})

print("데이터 기본정보:")
print(df.head())
print(f"\n데이터 크기: {df.shape}")
```

## 문제 1: 기술통계 및 상관분석

**Q1.** 각 변수의 기술통계량과 상관관계를 분석하시오.

<CollapsibleCodeCell code={`plt.show()`} />

## 문제 2: 다중선형회귀 모델 구축

**Q2.** 다중선형회귀 모델을 구축하고 회귀계수를 해석하시오.

<CollapsibleCodeCell code={`print("- 나이가 1세 증가하면 연봉이 약 {:.0f}원 증가".format(model.params['age']))`} />

## 문제 3: 모델 유의성 검정

**Q3.** F-검정과 t-검정을 통해 모델의 유의성을 검정하시오.

<CollapsibleCodeCell code={`print(f"모델이 종속변수 변동의 {model.rsquared*100:.1f}%를 설명합니다")`} />

## 문제 4: 회귀 가정 검진

**Q4.** 선형성, 독립성, 등분산성, 정규성 가정을 검진하시오.

<CollapsibleCodeCell code={`print("등분산성 검정을 수행할 수 없습니다.")`} />

## 문제 5: 예측 및 신뢰구간

**Q5.** 새로운 데이터에 대한 예측과 신뢰구간을 구하시오.

<CollapsibleCodeCell code={`plt.show()`} />

## 종합 정리

:::note[학습 요약]
이 예제에서 다룬 주요 내용:

1. **기술통계 및 상관분석**: 변수 간 관계 파악
2. **다중선형회귀**: 여러 독립변수를 이용한 모델 구축
3. **유의성 검정**: F-검정과 t-검정을 통한 모델 검증
4. **회귀 가정 검진**: 선형성, 독립성, 등분산성, 정규성 확인
5. **예측 및 신뢰구간**: 새로운 데이터에 대한 예측 수행
:::

:::warning[회귀분석 가정]
회귀분석의 핵심 가정들:
- **선형성**: 독립변수와 종속변수 간 선형관계
- **독립성**: 잔차들이 서로 독립
- **등분산성**: 잔차의 분산이 일정
- **정규성**: 잔차가 정규분포를 따름
:::

## 참고자료

- 『회귀분석』, 강근석
- 『Applied Linear Statistical Models』, Kutner et al.
- statsmodels documentation